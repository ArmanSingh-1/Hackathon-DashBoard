<!DOCTYPE html>
<html>
<head>
    <title>Dashboard</title>
</head>
<body>
    <h2>CSV Dashboard</h2>

    <!-- File Selection -->
    <form method="POST">
        <label for="selected_file">Select a file:</label>
        <select name="selected_file" onchange="this.form.submit()">
            {% for file in files %}
            <option value="{{ file }}" {% if file == selected_file %}selected{% endif %}>{{ file }}</option>
            {% endfor %}
        </select>
    </form>

    <!-- Table Preview -->
    <h3>Preview of: {{ selected_file }}</h3>
    {{ tables|safe }}

    <hr>

    <!-- Display Graphs -->
    <h3>Generated Graphs</h3>
    {% if graph_images %}
        {% for img in graph_images %}
            <div>
                <img src="{{ url_for('static', filename='graphs/' + img) }}" alt="{{ img }}" width="500px">
                <p>{{ img }}</p>
            </div>
            <hr>
        {% endfor %}
    {% else %}
        <p>No graphs available. Make sure to generate them.</p>
    {% endif %}

    <br>
    <a href="/">‚Üê Back to Home</a>
</body>
</html>
